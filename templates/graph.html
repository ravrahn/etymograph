{% extends 'base.html' %}
{% block head %}
<link rel="stylesheet" href="{{url_for('static', filename='css/graph.css') }}">
{% endblock %}
{% block content %}
<svg width="100%" height="100%"></svg>
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js" charset="utf-8"></script>
<script src="{{ url_for('static', filename='js/dagre-d3.min.js') }}"></script>
{# This is where the word info goes (js writes the inner HTML) #}
<div class="infobar"></div>
<script src="{{ url_for('static', filename='js/graph.js') }}"></script>
<script>

var form = '<form class="add-root" action="{{ url_for("add_root", next=request.path) }}" method="POST"> \
    {{ form.hidden_tag() }} \
    {% for field in form %} \
    {% if field.id != "csrf_token" %} \
        <div class="addword-form-title">{{ field.label(class_="addword-form-title") }}</div> \
        <div class="addword-form">{{ field(class_="reg-form") }}</div> \
    {% endif %} \
    {% endfor %} \
    <button type="submit" class="addword-submit">Submit</form> \
</form>';
var next_url = "{{ request.path }}";

// Get data from the API
makeGraph({{ roots|safe }}, {{ descs|safe }}, form);
</script>
{% endblock %}
